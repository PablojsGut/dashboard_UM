<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard VcM - Modular</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
    <link rel="stylesheet" href="style/main.css">
</head>
<body>
    <header class="header-um">
        <div class="container">
            <div class="row align-items-center">
                <div class="col text-center text-md-start">
                    <h1 class="dashboard-title">
                        üìä Dashboard Vinculaci√≥n con el Medio
                    </h1>
                    <p class="dashboard-subtitle">
                        Gesti√≥n y seguimiento de iniciativas v√≠a Excel
                    </p>
                </div>
            </div>
        </div>
    </header>

    <!-- EXCEL -->
    <div class="container mb-3">
        <div class="card p-3 shadow-sm">
            <!-- TABS -->
            <ul class="nav nav-tabs" id="faseTabs" role="tablist">
                <li class="nav-item" role="presentation">
                    <button
                        class="nav-link active"
                        id="fase1-tab"
                        data-bs-toggle="tab"
                        data-bs-target="#fase1"
                        type="button"
                        role="tab"
                        aria-selected="true"
                        onclick="setFase('fase1')"
                    >
                        Iniciativas (Fase 1)
                    </button>
                </li>

                <li class="nav-item" role="presentation">
                    <button
                        class="nav-link"
                        id="fase2-tab"
                        data-bs-toggle="tab"
                        data-bs-target="#fase2"
                        type="button"
                        role="tab"
                        aria-selected="false"
                        onclick="setFase('fase2')"
                    >
                        S√≠ntesis (Fase 2)
                    </button>
                </li>

                <li class="nav-item" role="presentation">
                    <button
                        class="nav-link"
                        id="ambas-tab"
                        data-bs-toggle="tab"
                        data-bs-target="#ambas"
                        type="button"
                        role="tab"
                        aria-selected="false"
                        onclick="setFase('ambas')"
                    >
                        Ambas Fases
                    </button>
                </li>
            </ul>

            <!-- CONTENIDO DE TABS -->
            <div class="tab-content pt-3">

                <!-- FASE 1 -->
                <div class="tab-pane fade show active" id="fase1" role="tabpanel">
                    <input
                        type="file"
                        id="excelInputFase1"
                        class="form-control w-auto"
                        accept=".xlsx,.xls"
                    >
                </div>

                <!-- FASE 2 -->
                <div class="tab-pane fade" id="fase2" role="tabpanel">
                    <input
                        type="file"
                        id="excelInputFase2"
                        class="form-control w-auto"
                        accept=".xlsx,.xls"
                    >
                </div>

                <!-- AMBAS -->
                <div class="tab-pane fade" id="ambas" role="tabpanel">
                    <input
                        type="file"
                        id="excelInputAmbas"
                        class="form-control w-auto"
                        accept=".xlsx,.xls"
                    >
                </div>

            </div>

            <small class="text-muted mt-3 d-block">
                Selecciona el archivo Excel correspondiente seg√∫n la fase.
            </small>

        </div>
    </div>

    <!-- ALERTA -->
    <div class="container mt-3">
        <div id="alertsContainer"></div>
    </div>

    <!-- FILTROS -->
    <div class="container filters-section mb-4">
        <div class="filters-title mb-3">
            üîç Filtros Globales
        </div>

        <div class="row g-3">
            <!-- Sede -->
            <div class="col-12 col-md-6 col-lg-3">
                <label for="filterSede" class="form-label">Sede</label>
                <select id="filterSede" class="form-select">
                    <option value="">Todas las sedes</option>
                    <option value="Santiago">Santiago</option>
                    <option value="Temuco">Temuco</option>
                </select>
            </div>

            <!-- Dependencia -->
            <div class="col-12 col-md-6 col-lg-3">
                <label for="filterDependencia" class="form-label">Dependencia</label>
                <select id="filterDependencia" class="form-select">
                    <option value="">Todas las dependencias</option>
                </select>
            </div>

            <!-- Unidad Acad√©mica -->
            <div class="col-12 col-md-6 col-lg-3">
                <label for="filterUnidad" class="form-label">
                    Unidad Acad√©mica
                    <span class="text-muted small">(Pregrado / Postgrado)</span>
                </label>
                <select id="filterUnidad" class="form-select">
                    <option value="">Todas las unidades</option>
                </select>
            </div>

            <!-- Estado -->
            <div class="col-12 col-md-6 col-lg-3">
                <label for="filterEstado" class="form-label">Estado Fase 1</label>
                <select id="filterEstado" class="form-select">
                    <option value="">Todos los estados</option>
                    <option value="Completada">Completada</option>
                    <option value="En proceso">En proceso</option>
                </select>
            </div>
        </div>

        <!-- BOTONES -->
        <div class="d-flex flex-wrap gap-2 mt-4">
            <button class="btn btn-primary" onclick="applyFilters()" >
                ‚úì Aplicar Filtros
            </button>
            <button class="btn btn-outline-secondary" onclick="clearFilters()">
                ‚Üª Limpiar Filtros
            </button>
        </div>
    </div>

    <!-- DATOS -->
    <div class="container">
        <div class="kpis-grid" id="kpisContainer"></div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js" integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <script src="js/columnsConfig.js"></script>
    <script src="js/alert.js"></script>
    <script src="js/validation.js"></script>
    <script src="js/excelLogic.js"></script>
    <script src="js/kpi.js"></script>
    <script src="js/filters.js"></script>
    <script src="js/main.js"></script>

</body>
</html>